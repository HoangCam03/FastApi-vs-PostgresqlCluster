{
  "test_summary": {
    "start_time": "2025-09-04T08:50:09.850201",
    "end_time": "2025-09-04T08:50:44.750778",
    "total_duration": 34.900577,
    "total_test_suites": 7,
    "passed_tests": 1,
    "failed_tests": 6,
    "timeout_tests": 0,
    "crash_tests": 0,
    "success_rate": 14.285714285714285
  },
  "test_suites": [
    {
      "name": "Simple Cluster Test",
      "file": "simple_cluster_test.py",
      "description": "Test cơ bản CRUD, replica read-only, primary failover"
    },
    {
      "name": "Primary Replica Flow Test",
      "file": "test_primary_replica_flow.py",
      "description": "Test flow giữa primary và replica"
    },
    {
      "name": "Cluster Scenarios Test",
      "file": "cluster_scenarios_test.py",
      "description": "Test các scenarios phức tạp"
    },
    {
      "name": "CRUD Operations Test",
      "file": "test_crud_operations.py",
      "description": "Test CRUD operations qua API"
    },
    {
      "name": "Comprehensive Cluster Test",
      "file": "comprehensive_cluster_test.py",
      "description": "Test toàn diện với 6 scenarios chính"
    },
    {
      "name": "Advanced Cluster Test",
      "file": "advanced_cluster_test.py",
      "description": "Test nâng cao với connection pooling, replication lag, etc."
    },
    {
      "name": "Network Performance Test",
      "file": "network_performance_test.py",
      "description": "Test network scenarios và performance"
    }
  ],
  "detailed_results": [
    {
      "suite_name": "Simple Cluster Test",
      "file": "simple_cluster_test.py",
      "status": "FAIL",
      "duration": 0.11098957061767578,
      "return_code": 1,
      "stdout": "",
      "stderr": "Traceback (most recent call last):\n  File \"D:\\fastapi_project\\simple_cluster_test.py\", line 8, in <module>\n    import docker\nModuleNotFoundError: No module named 'docker'\n"
    },
    {
      "suite_name": "Primary Replica Flow Test",
      "file": "test_primary_replica_flow.py",
      "status": "FAIL",
      "duration": 2.897249937057495,
      "return_code": 1,
      "stdout": "== Primary/Replica flow test ==\n",
      "stderr": "Traceback (most recent call last):\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3295, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 626, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not translate host name \"postgres-primary\" to address: Name or service not known\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\fastapi_project\\test_primary_replica_flow.py\", line 108, in <module>\n    run()\n    ~~~^^\n  File \"D:\\fastapi_project\\test_primary_replica_flow.py\", line 20, in run\n    with primary_engine.begin() as pconn:\n         ~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 141, in __enter__\n    return next(self.gen)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3235, in begin\n    with self.connect() as conn:\n         ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3271, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2434, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3295, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 626, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name \"postgres-primary\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n"
    },
    {
      "suite_name": "Cluster Scenarios Test",
      "file": "cluster_scenarios_test.py",
      "status": "FAIL",
      "duration": 0.07440900802612305,
      "return_code": 1,
      "stdout": "",
      "stderr": "Traceback (most recent call last):\n  File \"D:\\fastapi_project\\cluster_scenarios_test.py\", line 6, in <module>\n    import docker\nModuleNotFoundError: No module named 'docker'\n"
    },
    {
      "suite_name": "CRUD Operations Test",
      "file": "test_crud_operations.py",
      "status": "PASS",
      "duration": 1.550797462463379,
      "return_code": 0,
      "stdout": "[2025-09-04 08:50:29] [INFO] 🚀 Starting PostgreSQL Cluster CRUD Tests\n[2025-09-04 08:50:29] [ERROR] ❌ Login failed: Internal Server Error\n",
      "stderr": "C:\\Users\\Hoang Cam\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\urllib3\\connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'localhost'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings\n  warnings.warn(\n"
    },
    {
      "suite_name": "Comprehensive Cluster Test",
      "file": "comprehensive_cluster_test.py",
      "status": "FAIL",
      "duration": 0.08470535278320312,
      "return_code": 1,
      "stdout": "",
      "stderr": "Traceback (most recent call last):\n  File \"D:\\fastapi_project\\comprehensive_cluster_test.py\", line 10, in <module>\n    import docker\nModuleNotFoundError: No module named 'docker'\n"
    },
    {
      "suite_name": "Advanced Cluster Test",
      "file": "advanced_cluster_test.py",
      "status": "FAIL",
      "duration": 0.08079981803894043,
      "return_code": 1,
      "stdout": "",
      "stderr": "Traceback (most recent call last):\n  File \"D:\\fastapi_project\\advanced_cluster_test.py\", line 10, in <module>\n    import docker\nModuleNotFoundError: No module named 'docker'\n"
    },
    {
      "suite_name": "Network Performance Test",
      "file": "network_performance_test.py",
      "status": "FAIL",
      "duration": 0.07654547691345215,
      "return_code": 1,
      "stdout": "",
      "stderr": "Traceback (most recent call last):\n  File \"D:\\fastapi_project\\network_performance_test.py\", line 9, in <module>\n    import docker\nModuleNotFoundError: No module named 'docker'\n"
    }
  ]
}